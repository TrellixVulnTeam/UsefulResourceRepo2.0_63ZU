"use strict";
(function (e, c) {
  function m(a) {
    return encodeURIComponent(a).replace(/['()_*]/g, function (b) {
      return "%" + b.charCodeAt().toString(16);
    });
  }
  function n(a, b) {
    if (null == b) return a.innerText || a.textContent;
    null != a.innerText && (a.innerText = b);
    null != a.textContent && (a.textContent = b);
  }
  function q(a, b) {
    return (
      (0 == a ? "0" : String(a).replace(t, ",")) + " " + b + (1 == a ? "" : "s")
    );
  }
  function p() {
    for (
      var a = g.value, b = a.replace(u, ""), f = [], d = 0, k = a.length, h, r;
      d < k;

    ) {
      h = a.charCodeAt(d++);
      if (55296 == (h & 63488)) {
        r = a.charCodeAt(d++);
        if (55296 != (h & 64512) || 56320 != (r & 64512))
          throw Error("Illegal UCS-2 sequence");
        h = ((h & 1023) << 10) + (r & 1023) + 65536;
      }
      f.push(h);
    }
    f = f.length;
    d = ~-encodeURI(a).split(/%..|./).length;
    k = ~-encodeURI(b).split(/%..|./).length;
    n(v, b || "[no output]");
    w.className = k ? "" : "fail";
    n(
      x,
      q(d, "byte") + (f == d ? "" : " (assuming UTF-8); " + q(f, "character"))
    );
    n(y, q(k, "byte"));
    n(z, (d ? ((d - k) / d) * 100 : 0).toFixed(2) + "%");
    A.hash = m(a);
    l && (l.brainfuck = a);
  }
  var g = c.getElementsByTagName("textarea")[0];
  c.getElementById("characters");
  var w = c.getElementsByTagName("pre")[0],
    v = c.getElementById("output"),
    A = c.getElementById("permalink");
  c = c.getElementsByTagName("dd");
  var x = c[0],
    y = c[1],
    z = c[2],
    u = /[^\+\-<>\[\],\.]/g,
    t = /(?=(?:\d{3})+$)(?!\b)/g,
    l = (function () {
      var a = new Date(),
        b;
      try {
        (b = e.localStorage).setItem(a, a);
        var f = b.getItem(a) == a;
        b.removeItem(a);
        return f && b;
      } catch (d) {}
    })();
  g.onkeyup = p;
  g.oninput = function () {
    g.onkeyup = null;
    p();
  };
  l && (l.brainfuck && (g.value = l.brainfuck), p());
  e.onhashchange = function () {
    g.value = decodeURIComponent(location.hash.slice(1));
    p();
  };
  if (location.hash) e.onhashchange();
})(this, document);
window._gaq = [["_setAccount", "UA-6065217-60"], ["_trackPageview"]];
(function (e, c) {
  var m = e.createElement(c);
  e = e.getElementsByTagName(c)[0];
  m.src = "https://www.google-analytics.com/ga.js";
  e.parentNode.insertBefore(m, e);
})(document, "script");
