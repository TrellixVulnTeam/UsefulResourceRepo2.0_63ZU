"use strict";
(function (b, e) {
  function k(a) {
    return encodeURIComponent(a).replace(/['()_*]/g, function (f) {
      return "%" + f.charCodeAt().toString(16);
    });
  }

  function l() {
    let a = m.checked
      ? null
      : {
          alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZ",
        };
    this == g
      ? ((a = bacon.decode(g.value, a)), (c.value = a))
      : ((a = bacon.encode(c.value, a)), (g.value = a));
    a = c.value;
    n.hash = k(a);
    h && (h.bacon = a);
  }
  let d = e.getElementsByTagName("textarea");
  var c = d[0];
  var g = d[1];
  d = e.getElementsByTagName("input");
  var m = d[0];
  d = d[1];
  var n = e.getElementById("permalink");

  var h = (function () {
    const a = new Date();
    let f;
    try {
      (f = b.localStorage).setItem(a, a);
      const p = f.getItem(a) == a;
      f.removeItem(a);
      return p && f;
    } catch (q) {}
  })();

  c.onkeyup = g.onkeyup = m.onchange = d.onchange = l;
  c.oninput =
    g.oninput =
    m.onchange =
    d.onchange =
      function () {
        c.onkeyup = g.onkeyup = null;
        l.call(this);
      };
  h && (h.bacon && (c.value = h.bacon), l());
  b.onhashchange = function () {
    c.value = decodeURIComponent(location.hash.slice(1));
    l();
  };
  if (location.hash) b.onhashchange();
})(this, document);
