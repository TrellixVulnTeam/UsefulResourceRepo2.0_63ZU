"use strict";
(function (d, f) {
  function h(a) {
    return encodeURIComponent(a).replace(/['()_*]/g, function (c) {
      return "%" + c.charCodeAt().toString(16);
    });
  }

  function k() {
    if (this == e) {
      var a = e.value.replace(m, "");
      if (n.test(a)) {
        e.className = b.className = "";
        var c = decodeURIComponent(escape(atob(a)));
        b.value = a = c;
      } else
        (b.value = "ERROR: invalid input"),
          (e.className = b.className = "invalid"),
          (a = "");
    } else
      (e.className = b.className = ""),
        (a = b.value),
        (c = btoa(unescape(encodeURIComponent(a)))),
        (e.value = c);
    p.hash = h(a);
    g && (g.base64 = a);
  }
  var l = f.getElementsByTagName("textarea"),
    b = l[0],
    e = l[1],
    p = f.getElementById("permalink"),
    n = /^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/,
    m = /\s/g,
    g = (function () {
      var a = new Date(),
        c;
      try {
        (c = d.localStorage).setItem(a, a);
        var q = c.getItem(a) == a;
        c.removeItem(a);
        return q && c;
      } catch (r) {}
    })();
  b.onkeyup = e.onkeyup = k;
  b.oninput = e.oninput = function () {
    b.onkeyup = e.onkeyup = null;
    k.call(this);
  };
  g && (g.base64 && (b.value = g.base64), k());
  d.onhashchange = function () {
    b.value = decodeURIComponent(location.hash.slice(1));
    k();
  };
  if (location.hash) d.onhashchange();
})(this, document);
window._gaq = [["_setAccount", "UA-6065217-60"], ["_trackPageview"]];
(function (d, f) {
  var h = d.createElement(f);
  d = d.getElementsByTagName(f)[0];
  h.src = "https://www.google-analytics.com/ga.js";
  d.parentNode.insertBefore(h, d);
})(document, "script");
