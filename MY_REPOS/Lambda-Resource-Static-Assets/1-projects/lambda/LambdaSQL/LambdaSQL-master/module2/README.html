<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <meta charset="utf-8" />
    <meta name="generator" content="pandoc" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=yes"
    />
    <title>README</title>
    <style type="text/css">
      code {
        white-space: pre-wrap;
      }
      span.smallcaps {
        font-variant: small-caps;
      }
      span.underline {
        text-decoration: underline;
      }
      div.column {
        display: inline-block;
        vertical-align: top;
        width: 50%;
      }
    </style>
  </head>
  <body>
    <h1 id="unit-3-sprint-2-module-2">Unit 3 Sprint 2 Module 2</h1>
    <h1 id="sql-for-analysis">SQL for Analysis</h1>
    <p>
      SQL is simple, but surprisingly powerful - many data pipelines start, and
      even end, with it.
    </p>
    <h2 id="learning-objectives">Learning Objectives</h2>
    <ul>
      <li>deploy and use a simple PostgreSQL database</li>
      <li>Create a data pipeline with SQL</li>
    </ul>
    <h2 id="before-lecture">Before Lecture</h2>
    <p>
      Sign up for a free
      <a href="https://www.elephantsql.com/">ElephantSQL</a> account. This will
      allow you to run a “cloud” PostgreSQL instance (20mb). If you wish to you
      may also install
      <a href="https://www.postgresql.org/">PostgreSQL</a> locally, which would
      facilitate larger databases, but it is not necessary for the daily tasks.
    </p>
    <p>
      You can also install <a href="https://www.pgadmin.org/">pgAdmin</a>, which
      (like the DB Browser for SQLite) lets you connect to, explore, and query
      databases using a GUI tool. This is optional, but can be pretty handy.
    </p>
    <h2 id="live-lecture-task">Live Lecture Task</h2>
    <p>
      Yesterday we used a simple local workflow with SQLite - today, we’ll work
      on inserting the same RPG data into a more production-style PostgreSQL
      database running on a server. We will use
      <a href="http://initd.org/psycopg/">psycopg</a>, a Python library for
      connecting to PostgreSQL, and specifically we will install
      <a href="https://pypi.org/project/psycopg2-binary/">psycopg2-binary</a>.
    </p>
    <p>
      Once we get the data inserted, we will continue exploring querying as
      yesterday, first answering the same questions and then going deeper. We’ll
      also explore some of the specific functions that are different in
      PostgreSQL than SQLite.
    </p>
    <h2 id="assignment">Assignment</h2>
    <p>
      Reproduce (debugging as needed) the live lecture task of setting up and
      inserting the RPG data into a PostgreSQL database, and add the code you
      write to do so.
    </p>
    <p>
      Then, set up a new table for the Titanic data (<code>titanic.csv</code>) -
      spend some time thinking about the schema to make sure it is appropriate
      for the columns.
      <a href="https://www.postgresql.org/docs/9.1/datatype-enum.html"
        >Enumerated types</a
      >
      may be useful. Once it is set up, write a
      <code>insert_titanic.py</code> script that uses <code>psycopg2</code> to
      connect to and upload the data from the csv, and add the file to your
      repo. Then start writing PostgreSQL queries to explore the data!
    </p>
    <h2 id="resources-and-stretch-goals">Resources and Stretch Goals</h2>
    <p>
      PostgreSQL is a real true powerful production database - explore the
      <a href="https://www.postgresql.org/docs/">official documentation</a> as
      well as larger hosted offerings such as
      <a href="https://aws.amazon.com/rds/postgresql/">Amazon RDS</a>.
    </p>
    <p>
      Try to install and use the actual
      <a href="https://pypi.org/project/psycopg2/">psycopg2</a> package (as
      opposed to <code>psycop2-binary</code>) - this builds from source, so
      there are
      <a href="http://initd.org/psycopg/docs/install.html#install-from-source"
        >prerequisites</a
      >
      you’ll need. This may be good to do inside a container!
    </p>
    <p>
      Want to try larger PostgreSQL databases? Check out
      <a
        href="https://community.embarcadero.com/article/articles-database/1076-top-3-sample-databases-for-postgresql"
        >these sample databases</a
      >, but note you’ll probably need a local installation of PostgreSQL to be
      able to use them.
    </p>
    <p>
      And if you do all the above, you can revisit
      <a href="https://docs.djangoproject.com/en/2.1/intro/">Django</a> as
      briefly introduced yesterday. This is a complete stretch goal (i.e. it’s
      not a core Data Science skill and is OK if you don’t get to it at all),
      but it is a powerful and widely-used web application framework. Also, the
      Django ORM can connect to a variety of SQL backends, and a very typical
      setup is to use SQLite for (initial) local development but PostgreSQL for
      deployment.
    </p>
  </body>
</html>
