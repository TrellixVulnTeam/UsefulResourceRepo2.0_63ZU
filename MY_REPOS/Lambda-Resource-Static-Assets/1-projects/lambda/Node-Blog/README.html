<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <meta charset="utf-8" />
    <meta name="generator" content="pandoc" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=yes"
    />
    <title>README</title>
    <style type="text/css">
      code {
        white-space: pre-wrap;
      }
      span.smallcaps {
        font-variant: small-caps;
      }
      span.underline {
        text-decoration: underline;
      }
      div.column {
        display: inline-block;
        vertical-align: top;
        width: 50%;
      }
    </style>
  </head>
  <body>
    <h1 id="building-an-api-using-a-node.js-and-express">
      Building an API using a Node.js and Express
    </h1>
    <h2 id="topics">Topics</h2>
    <ul>
      <li>Building RESTful APIs.</li>
      <li>Performing CRUD Operations on Multiple Resources.</li>
      <li>Configuring CORS.</li>
      <li>Writing Custom Middleware.</li>
      <li>Using Express Routers to Modularize Application.</li>
    </ul>
    <h2 id="assignment">Assignment</h2>
    <ul>
      <li>
        Use Node.js and Express to <strong>design and build</strong> an API that
        performs CRUD operations on <code>users</code> and <code>posts</code>.
      </li>
      <li>
        Write custom middleware to ensure that the user’s <code>name</code> is
        uppercased before the request reaches the <code>POST</code> or
        <code>PUT</code> route handler.
      </li>
      <li>
        <strong
          >You will work on this assignment over the course of TWO days</strong
        >
      </li>
      <li>
        <strong
          >The endpoints for managing users and the middleware to uppercase the
          user’s name are due on Wednesday, the posts endpoints are due on
          Thursday</strong
        >.
      </li>
    </ul>
    <h3 id="download-project-files-and-install-dependencies">
      Download Project Files and Install Dependencies
    </h3>
    <p>
      x <strong>Fork</strong> and <strong>Clone</strong> this repository. x
      <strong>CD into the folder</strong> where you cloned the repository. x Do
      your magic!
    </p>
    <h3 id="database-persistence-helpers">Database Persistence Helpers</h3>
    <p>
      The <code>/data/helpers</code> folder includes helper files that you can
      use to manage the persistence of <em>users</em> and <em>posts</em> data.
      These files are <code>userDb.js</code> and <code>postDb.js</code>. Both
      files publish the following api:
    </p>
    <ul>
      <li>
        <code>get()</code>: calling find returns a promise that resolves to an
        array of all the resources contained in the database. If you pass an
        <code>id</code> to this method it will return the resource with that id
        if found.
      </li>
      <li>
        <code>insert()</code>: calling insert passing it a resource object will
        add it to the database and return an object with the id of the inserted
        resource. The object looks like this: <code>{ id: 123 }</code>.
      </li>
      <li>
        <code>update()</code>: accepts two arguments, the first is the
        <code>id</code> of the resource to update and the second is an object
        with the <code>changes</code> to apply. It returns the count of updated
        records. If the count is 1 it means the record was updated correctly.
      </li>
      <li>
        <code>remove()</code>: the remove method accepts an <code>id</code> as
        it’s first parameter and, upon successfully deleting the resource from
        the database, returns the number of records deleted.
      </li>
    </ul>
    <p>
      The <code>userDb.js</code> helper includes an extra method called
      <code>getUserPosts()</code> that when passed a user id as it’s only
      argument, returns a list of all the posts for the user.
    </p>
    <p><strong>All helper methods return a promise.</strong></p>
    <h4 id="database-schemas">Database Schemas</h4>
    <p>
      The <em>schemas</em> (properties and data type of each property) used to
      store and retrieve the resources inside the included database
      (<code>lambda.sqlite3</code>) is described below.
    </p>
    <h5 id="users">Users</h5>
    <ul>
      <li>
        id: number, no need to provide it when creating users, the database will
        generate it.
      </li>
      <li>name: up to 128 characters long, required.</li>
    </ul>
    <h5 id="posts">Posts</h5>
    <ul>
      <li>
        id: number, no need to provide it when creating posts, the database will
        automatically generate it.
      </li>
      <li>userId: number, required, must be the id of an existing user.</li>
      <li>text: string, no size limit, required.</li>
    </ul>
    <p>We have provided test data for the resources.</p>
    <p>
      Now that we have a way to add, update, remove and retrieve data from the
      provided database, it is time to work on the API.
    </p>
    <h3 id="implementation-requirements">Implementation Requirements</h3>
    <ul>
      <li>
        Take the steps necessary to create a <code>package.json</code> to keep a
        record of our dependencies.
      </li>
      <li>
        use <em>yarn</em> or <em>npm</em> to add <strong>knex</strong> and
        <strong>sqlite3</strong> as dependencies to the project.
        <strong>This is required for database access</strong>.
      </li>
      <li>
        Configure an <em>npm script</em> named <em>“start”</em> that will
        execute your code using <em>nodemon</em> so that the server restarts on
        changes. Make <em>nodemon</em> be a development time dependency only, it
        shouldn’t be deployed to production.
      </li>
      <li>
        Design and build the necessary endpoints to:
        <ul>
          <li>perform CRUD operations on <em>users</em> and <em>posts</em>.</li>
          <li>retrieve the list of posts for a user.</li>
        </ul>
      </li>
      <li>
        <strong
          >Use <em>Postman</em> to test the API as you work through the
          exercises.</strong
        >
      </li>
    </ul>
    <h2 id="stretch-goal">Stretch Goal</h2>
    <ul>
      <li>
        Use <code>create-react-app</code> to create an application inside the
        root folder, name it <code>client</code>.
      </li>
      <li>
        From the React application connect to the
        <code>/api/users</code> endpoint in the API and show the list of users.
      </li>
      <li>
        Add functionality to show the details of a user, including their posts,
        when clicking a user name in the list. Use React Router to navigate to a
        <code>/users/:id</code> route to show the user details.
      </li>
      <li>Add styling!</li>
    </ul>
  </body>
</html>
